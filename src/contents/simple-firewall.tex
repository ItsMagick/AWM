%! Author = chaorn
%! Date = 13.02.24

\section{Simple Firewall Konfiguration mit UFW}\label{sec:simple-firewall-konfiguration}
Auf einem Raspberry Pi3 ist keine Firewall vorinstalliert.
Somit muss zuerst eine Firewall installiert werden.
Der simplizität und der lesbaren Dokumentation geschuldet wurde sich hierbei für die ~\gls{ufw} entschieden.
\input{listings/install-firewall}
Die Firewall besitzt eine Liste von ad-hoc Kommandos, deren sich der Einfachheit halber bedient wurde.~\footcite{ufw-doc} \\
\input{listings/ad-hoc-config}
Die hier verwendeten Kommandos Konfigurieren die Firewall nach dem Whitelisting Prinzip.
Zuerst werden mit \textbf{ufw default deny incoming} alle Verbindungen, welche von außen auf den Raspberry zugreifen wollen, blockiert.
Danach werden mit \textbf{ufw default allow outgoing} alle Verbindungen, die der Raspberry Pi nach außen, ~\gls{bspw} auf das internet mit ping oder Browser, erlaubt.
Als Nächstes werden die ~\gls{ssh} Verbindungsversuche mit ~\textbf{ufw limit ssh} reguliert.
Mit der Konfiguration wird es nur ermöglicht sechs Verbindungsversuche innerhalb von 30 Sekunden aufzubauen.
Die weiteren Konfigurationen mit dem Schlüsselwort \textbf{allow} ermöglichen es Verbindungen, die von außen auf den Raspberry Pi zukommen,
zu erlauben.
Die erlaubten Verbindungen sind jedoch nur auf ~\gls{http} (~\gls{tcp} Port 80), ~\gls{https} (~\gls{tcp} Port 443) und ~\gls{ssh} (~\gls{tcp} Port 22) beschränkt. \\
Das Kommando \textbf{ufw logging on} bezweckt, dass die von der Firewall blockierten Verbindungen unter \textbf{/var/log/ufw.log} aufgezeichnet werden. \\
Zum schlussendlichen Aktivieren und Anwenden der Regeln der Firewall wird diese jetzt mit dem \textbf{enable} Schlüsselwort aktiviert.
